<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Nightlight Data Calendar</title>
</head>
<body>
  <h2>Available Nighttime Light Data</h2>
  <button onclick="refreshData()">üîÑ Refresh Calendar</button>
  <div id="calendar">Loading...</div>

  <script>
    const endpoint = "https://script.google.com/macros/s/AKfycbwUFbFdGB-UgT-P2t-CHz_GRxfvPfZqbIIu_4rorpwTFdNlBm7yDaocAzmY0E38Is2k0Q/exec";

    async function refreshData() {
      const div = document.getElementById("calendar");
      div.innerHTML = "Loading updated calendar...";

      try {
        const res = await fetch(endpoint);
        const html = await res.text();
        div.innerHTML = html;
      } catch (err) {
        div.innerHTML = "‚ö†Ô∏è Failed to load calendar.";
      }
    }

    // Load on page load
    refreshData();
  </script>
</body>
</html>
