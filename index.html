<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Nightlight Data</title>
  <style>
    .available { color: green; font-weight: bold; }
    .loading { color: gray; }
  </style>
</head>
<body>
  <h2>Available Data</h2>
  <button onclick="refreshData()">ðŸ”„ Refresh Data</button>
  <ul id="dataList"><li class="loading">Loading...</li></ul>

  <script>
    const endpoint = "https://script.google.com/macros/s/AKfycby--StEdKdt4Q2VaFNig_lpmxdxM0IfD3uiUsUj6T-nJcZe78UPrmxY9u0_mc7_KXioXQ/exec";

    async function refreshData() {
      const list = document.getElementById("dataList");
      list.innerHTML = "<li class='loading'>Fetching updated data...</li>";

      try {
        const res = await fetch(endpoint);
        const months = await res.json();

        list.innerHTML = "";
        months.forEach(month => {
          const li = document.createElement("li");
          li.textContent = month;
          li.className = "available";
          list.appendChild(li);
        });
      } catch (err) {
        list.innerHTML = "<li class='loading'>Failed to fetch data.</li>";
      }
    }

    // Load on page start
    refreshData();
  </script>
</body>
</html>
